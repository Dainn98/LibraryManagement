<?xml version="1.0" encoding="UTF-8"?>

<?import com.gluonhq.charm.glisten.control.AutoCompleteTextField?>
<?import com.jfoenix.controls.JFXButton?>
<?import com.jfoenix.controls.JFXComboBox?>
<?import com.jfoenix.controls.JFXListView?>
<?import com.jfoenix.controls.JFXTextArea?>
<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import de.jensd.fx.glyphs.materialdesignicons.MaterialDesignIconView?>
<?import javafx.geometry.Insets?>
<?import javafx.geometry.Point3D?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ButtonBar?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ContextMenu?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import jfxtras.scene.control.ImageViewButton?>
<?import jfxtras.scene.control.gauge.linear.SimpleMetroArcGauge?>
<?import jfxtras.scene.layout.VBox?>
<?import org.controlsfx.control.CheckComboBox?>

<StackPane prefHeight="833.0" prefWidth="1058.0" stylesheets="@../css/theme.css" xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1" fx:controller="library.management.ui.controllers.MainController">
   <children>
      <BorderPane prefHeight="806.0" prefWidth="1010.0" style="-fx-background-color: white;" StackPane.alignment="CENTER">
        <!--          TOP -->
         <top>
            <BorderPane>
               <top>
                  <MenuBar prefHeight="25.0" style="-fx-background-color: linear-gradient(to right, #e2e2e2, #c9d6ff);" BorderPane.alignment="CENTER" />
               </top>
            </BorderPane>
         </top>

         <!--          LEFT -->
         <left>
            <VBox spacing="10" style="-fx-padding: 20;">
               <StackPane>
                  <children>
                     <ImageView fx:id="pic" fitHeight="222.0" fitWidth="200.0" onMouseClicked="#handleClickAvatar" pickOnBounds="true" preserveRatio="true">
                        <Image url="@../sprites/mainScreen.png" />
                        <cursor>
                           <Cursor fx:constant="HAND" />
                        </cursor>
                     </ImageView>
                     <VBox fx:id="infoVBox" onMouseExited="#handleExitAvatarInfo" prefHeight="200.0" prefWidth="100.0" visible="false" />
                  </children>
               </StackPane>
               <Button fx:id="dashboardButton" onAction="#handleDashboardButton" prefWidth="200.0" style="-fx-background-color: trá;" text="Dashboard">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor></Button>
               <Button fx:id="docsButton" onAction="#handleDocButton" prefWidth="200" text="Documents">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor></Button>
               <Button fx:id="usersButton" onAction="#handleUsersButton" prefWidth="200" text="Users">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor></Button>
               <Button fx:id="libraryCatalogButton" onAction="#handleLibraryCatalogButton" prefWidth="200" text="Library Catalog">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor></Button>
               <Button fx:id="pendingApprovalsButton" onAction="#handlePendingApprovalsButton" prefWidth="200" text="Pending Approvals">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor></Button>
               <Button fx:id="pendingLoansButton" mnemonicParsing="false" onAction="#handlePendingLoansButton" prefWidth="200.0" text="Pending Loans" />
               <Button fx:id="allIssuedDocumentButton" onAction="#handleIssuedDocButton" prefWidth="200" text="All Issued Document">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor></Button>
               <Button fx:id="FAQsButton" onAction="#handleLibFAQsButton" prefWidth="200.0" text="Library FAQs">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor>
               </Button>
               <Button fx:id="signOutButton" onAction="#handleSignOutButton" prefWidth="200" text="Sign Out">
                  <cursor>
                     <Cursor fx:constant="HAND" />
                  </cursor></Button>
            </VBox>
         </left>

         <!--          BOTTOM -->
         <bottom>
            <HBox alignment="CENTER" prefHeight="37.0" prefWidth="1026.0" style="-fx-padding: 10;">
               <Label text="© 2024 TAAD - Library Management System" textFill="WHITE">
                  <HBox.margin>
                     <Insets left="250.0" />
                  </HBox.margin></Label>
            </HBox>
         </bottom>
         <!--          CENTER-->
         <center>
            <StackPane BorderPane.alignment="CENTER">
               <children>

                  <!--              DASHBOARD-->
                  <VBox id="dashboardVBox" fx:id="dashboardVBox" prefHeight="652.0" prefWidth="620.0">
                     <children>
                        <VBox alignment="CENTER" spacing="20" styleClass="main-content">
                           <children>
                              <BorderPane maxHeight="67.0" prefHeight="34.0" prefWidth="1000.0" style="-fx-background-color: white;">

                                 <center>
                                    <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1" BorderPane.alignment="CENTER">
                                       <font>
                                          <Font name="Segoe UI Semilight" size="23.0" />
                                       </font>
                                       <BorderPane.margin>
                                          <Insets top="2.0" />
                                       </BorderPane.margin>
                                    </Label>
                                 </center>
                                 <bottom>
                                    <VBox BorderPane.alignment="CENTER" />
                                 </bottom>
                              </BorderPane>
                              <HBox alignment="CENTER_LEFT" VBox.vgrow="ALWAYS">
                                 <children>
                                    <Label style="-fx-font-size: 24; -fx-text-fill: white;" text="Dashboard" textFill="#2b579a">
                                       <font>
                                          <Font name="Segoe UI Semilight" size="40.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>

                              <HBox prefHeight="151.0" prefWidth="1000.0">
                                 <children>
                                    <VBox alignment="CENTER" prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <SimpleMetroArcGauge fx:id="allDocsGauge" VBox.vgrow="ALWAYS" />

                                          <Text strokeType="OUTSIDE" strokeWidth="0.0" text="All Documents">
                                             <font>
                                                <Font size="16.0" />
                                             </font>
                                          </Text>
                                       </children>
                                    </VBox>
                                    <VBox alignment="CENTER" layoutX="10.0" layoutY="10.0" prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <SimpleMetroArcGauge fx:id="remainingDocsGauge" VBox.vgrow="ALWAYS" />

                                          <Text strokeType="OUTSIDE" strokeWidth="0.0" text="Remaining Documents">
                                             <font>
                                                <Font size="16.0" />
                                             </font>
                                          </Text>
                                       </children>
                                    </VBox>
                                    <VBox alignment="CENTER" layoutX="810.0" layoutY="10.0" prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <SimpleMetroArcGauge fx:id="issuedDocsGauge" VBox.vgrow="ALWAYS" />

                                          <Text strokeType="OUTSIDE" strokeWidth="0.0" text="Issued Documents">
                                             <font>
                                                <Font size="16.0" />
                                             </font>
                                          </Text>
                                       </children>
                                    </VBox>
                                    <VBox alignment="CENTER" layoutX="810.0" layoutY="10.0" prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <SimpleMetroArcGauge fx:id="allUsersGauge" VBox.vgrow="ALWAYS" />

                                          <Text strokeType="OUTSIDE" strokeWidth="0.0" text="All Users">
                                             <font>
                                                <Font size="16.0" />
                                             </font>
                                          </Text>
                                       </children>
                                    </VBox>
                                    <VBox alignment="CENTER" layoutX="810.0" layoutY="10.0" prefHeight="200.0" prefWidth="200.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <SimpleMetroArcGauge fx:id="docHoldersGauge" VBox.vgrow="ALWAYS" />
                                          <Text strokeType="OUTSIDE" strokeWidth="0.0" text="Users Holding Documents">
                                             <font>
                                                <Font size="16.0" />
                                             </font>
                                          </Text>
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                              <HBox alignment="CENTER" spacing="20" />
                              <VBox />
                              <HBox spacing="10.0" VBox.vgrow="ALWAYS">
                                 <children>
                                    <BarChart fx:id="docBChart" alternativeColumnFillVisible="true" title="Documents Statistics" HBox.hgrow="ALWAYS">
                                       <xAxis>
                                          <CategoryAxis side="LEFT" fx:id="xAxis">
                                             <tickLabelFont>
                                                <Font size="13.0" />
                                             </tickLabelFont>
                                          </CategoryAxis>
                                       </xAxis>
                                       <yAxis>
                                          <NumberAxis fx:id="yAxis" label="Number of  Documents" side="LEFT">
                                             <tickLabelFont>
                                                <Font size="13.0" />
                                             </tickLabelFont>
                                          </NumberAxis>
                                       </yAxis>
                                    </BarChart>
                                    <BarChart fx:id="userBChart" alternativeColumnFillVisible="true" title="User Statistics" HBox.hgrow="ALWAYS">
                                       <xAxis>
                                          <CategoryAxis side="BOTTOM" />
                                       </xAxis>
                                       <yAxis>
                                          <NumberAxis label="Number of User" side="LEFT" />
                                       </yAxis>
                                    </BarChart>
                                 </children>
                                 <padding>
                                    <Insets right="10.0" />
                                 </padding>
                              </HBox>
                           </children>
                        </VBox>
                     </children>
                     <StackPane.margin>
                        <Insets />
                     </StackPane.margin>
                  </VBox>

                  <!--                 DOCUMENT-->
                  <BorderPane fx:id="docBPane" prefHeight="200.0" prefWidth="200.0" visible="false">
                     <top>
                        <VBox BorderPane.alignment="CENTER">
                           <children>
                              <HBox alignment="CENTER">
                                 <children>
                                    <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1">
                                       <font>
                                          <Font name="Segoe UI Semilight" size="23.0" />
                                       </font>
                                    </Label>
                                 </children>
                                 <padding>
                                    <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </padding>
                              </HBox>
                              <VBox prefHeight="64.0" prefWidth="754.0">
                                 <children>
                                    <HBox alignment="CENTER_LEFT" prefHeight="100.0" prefWidth="200.0" VBox.vgrow="ALWAYS">
                                       <children>
                                          <Label prefHeight="58.0" style="-fx-text-fill: #002B5B; -fx-font-size: 24; -fx-font-weight: bold;" text="Documents" HBox.hgrow="ALWAYS">

                                             <font>
                                                <Font name="Segoe UI Semilight" size="46.0" />
                                             </font>
                                             <padding>
                                                <Insets left="10.0" />
                                             </padding>
                                          </Label>
                                          <Region prefHeight="58.0" prefWidth="200.0" />

                                          <HBox prefHeight="100.0" prefWidth="200.0" HBox.hgrow="ALWAYS">
                                             <children>
                                                <VBox prefHeight="200.0" prefWidth="267.0" HBox.hgrow="ALWAYS">
                                                   <children>
                                                      <HBox alignment="CENTER_LEFT" prefHeight="100.0" prefWidth="200.0" style="-fx-text-fill: white;" VBox.vgrow="ALWAYS">
                                                         <children>
                                                            <Label fx:id="label1" style="-fx-text-fill: #002B5B;" text="All Documents" textFill="#2b579a" HBox.hgrow="ALWAYS">

                                                               <font>
                                                                  <Font name="System Bold" size="15.0" />
                                                               </font>
                                                            </Label>
                                                            <Label fx:id="allDocs" layoutX="10.0" layoutY="23.0" style="-fx-text-fill: #002B5B;" text="0" textFill="#2b579a" HBox.hgrow="ALWAYS">
                                                               <font>
                                                                  <Font name="System Bold" size="15.0" />
                                                               </font>
                                                               <HBox.margin>
                                                                  <Insets />
                                                               </HBox.margin>
                                                               <padding>
                                                                  <Insets left="10.0" />
                                                               </padding>
                                                            </Label>
                                                            <Label fx:id="label2" layoutX="92.0" layoutY="23.0" style="-fx-text-fill: #002B5B;" text="Remaining Documents" textFill="#2b579a" HBox.hgrow="ALWAYS">

                                                               <font>
                                                                  <Font name="System Bold" size="15.0" />
                                                               </font>
                                                               <HBox.margin>
                                                                  <Insets left="60.0" />
                                                               </HBox.margin>
                                                            </Label>
                                                            <Label fx:id="remainDocs" layoutX="174.0" layoutY="23.0" style="-fx-text-fill: #002B5B;" text="0" textFill="#2b579a" HBox.hgrow="ALWAYS">

                                                               <font>
                                                                  <Font name="System Bold" size="15.0" />
                                                               </font>
                                                               <HBox.margin>
                                                                  <Insets left="10.0" />
                                                               </HBox.margin>
                                                            </Label>
                                                         </children>
                                                      </HBox>
                                                      <HBox prefHeight="100.0" prefWidth="200.0" VBox.vgrow="ALWAYS">
                                                         <children>
                                                            <HBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                                               <children>
                                                                  <TextField fx:id="searchDocTField" alignment="TOP_LEFT" onKeyReleased="#handleSearchDocTField" prefHeight="26.0" prefWidth="333.0" promptText="Search for document by title, author or ISBN" style="-fx-background-radius: 30; -fx-background-color: linear-gradient(to right, rgba(0, 43, 91, 0.1), rgba(0, 43, 91, 0.3));" HBox.hgrow="ALWAYS">
                                                                     <font>
                                                                        <Font size="12.1" />
                                                                     </font>
                                                                  </TextField>
                                                                  <Hyperlink onAction="#handleAdvancedSearch" text="Advanced search" HBox.hgrow="ALWAYS" />
                                                               </children>
                                                            </HBox>
                                                            <HBox alignment="CENTER_RIGHT" spacing="10.0" HBox.hgrow="ALWAYS">
                                                               <children>
                                                                  <MenuButton accessibleRole="BUTTON" alignment="CENTER" contentDisplay="CENTER" mnemonicParsing="false" text="Manage Document" HBox.hgrow="ALWAYS">
                                                                     <items>
                                                                        <MenuItem mnemonicParsing="false">
                                                                           <graphic>
                                                                              <JFXButton fx:id="issueDocButton" onAction="#handleReturnDocButton" style="-fx-background-radius: 30;" text="Return Document">
                                                                                 <font>
                                                                                    <Font name="Segoe UI Semilight" size="12.0" />
                                                                                 </font>
                                                                              </JFXButton>
                                                                           </graphic>
                                                                        </MenuItem>
                                                                        <MenuItem mnemonicParsing="false">
                                                                           <graphic>
                                                                              <JFXButton fx:id="returnDocButton" onAction="#handleIssueDocButton" style="-fx-background-radius: 30;" text="Issue Document">
                                                                                 <font>
                                                                                    <Font name="Segoe UI Semilight" size="12.0" />
                                                                                 </font>
                                                                              </JFXButton>
                                                                           </graphic>
                                                                        </MenuItem>
                                                                     </items>
                                                                     <HBox.margin>
                                                                        <Insets right="20.0" />
                                                                     </HBox.margin>
                                                                  </MenuButton>

                                                               </children>
                                                               <HBox.margin>
                                                                  <Insets left="10.0" right="20.0" />
                                                               </HBox.margin>
                                                            </HBox>
                                                         </children>
                                                         <opaqueInsets>
                                                            <Insets />
                                                         </opaqueInsets>
                                                      </HBox>
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                       </children>
                                    </HBox>
                                    <HBox prefHeight="100.0" prefWidth="200.0" />
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                     </top>
                     <center>
                        <TableView fx:id="docView" accessibleRole="MENU_BUTTON" editable="true" prefHeight="563.0" prefWidth="754.0" tableMenuButtonVisible="true" BorderPane.alignment="CENTER">
                           <columns>
                              <TableColumn fx:id="checkDocView" maxWidth="1500.0" minWidth="-1.0" prefWidth="33.0" />
                              <TableColumn fx:id="docIDDocView" minWidth="-1.0" prefWidth="90.0" text="Document ID" />
                              <TableColumn fx:id="docISBNDocView" minWidth="-Infinity" prefWidth="95.0" text="Document ISBN" />
                              <TableColumn fx:id="docNameDocView" prefWidth="120.0" text="Document Title" />

                              <TableColumn fx:id="docAuthorDocView" prefWidth="120.84616088867188" text="Document Author" />
                              <TableColumn fx:id="docPublisherDocView" prefWidth="122.32125854492188" text="Document Publisher" />
                              <TableColumn fx:id="categoryDocView" prefWidth="79.5841064453125" text="Doument Category" />
                              <TableColumn fx:id="quantityDocView" prefWidth="62.04144287109375" text="Quantity" />
                              <TableColumn fx:id="remainingDocsDocView" prefWidth="134.53460693359375" text="Remaining Documents" />
                              <TableColumn fx:id="availabilityDocView" prefWidth="116.0" text="Availability" />
                           </columns>
                           <contextMenu>
                              <ContextMenu>
                                 <items>
                                    <MenuItem mnemonicParsing="false" onAction="#loadUpdateBook" text="Update Book" />
                                    <MenuItem mnemonicParsing="false" onAction="#DeleteBook" text="Delete Book" />
                                 </items>
                              </ContextMenu>
                           </contextMenu>
                           <columnResizePolicy>
                              <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                           </columnResizePolicy>
                        </TableView>
                     </center>
                     <bottom>
                        <HBox fx:id="controlBoxDocView" spacing="15.0" BorderPane.alignment="CENTER">
                           <children>
                              <CheckBox fx:id="checkAllDocsView" mnemonicParsing="false" onAction="#checkAllDocs" prefHeight="25.0" prefWidth="70.0" text="Check all" />
                              <Hyperlink fx:id="deleteDocs" onAction="#handleDeleteDocHyperlink" text="Delete">
                                 <graphic>
                                    <FontAwesomeIconView fill="#e9594d" glyphName="TRASH" size="15" />
                                 </graphic></Hyperlink>
                           </children>
                           <BorderPane.margin>
                              <Insets left="30.0" />
                           </BorderPane.margin>
                        </HBox>
                     </bottom></BorderPane>

                  <!--               DOCUMENT MANAGEMENT-->
                  <BorderPane fx:id="docManagementBPane" visible="false">
                     <center>

                        <VBox prefHeight="390.0" prefWidth="639.0">
                           <children>
                              <BorderPane>
                                 <center>
                                    <HBox spacing="10.0" BorderPane.alignment="CENTER">
                                       <children>
                                          <HBox>
                                             <children>
                                                <Label style="-fx-text-fill: #002B5B; -fx-font-size: 24; -fx-font-weight: bold;" text="Document Management">

                                                   <font>
                                                      <Font name="Segoe UI Semilight" size="46.0" />
                                                   </font>
                                                   <padding>
                                                      <Insets left="10.0" />
                                                   </padding>
                                                </Label>
                                             </children>
                                          </HBox>
                                          <HBox alignment="TOP_RIGHT" spacing="10.0" HBox.hgrow="ALWAYS">
                                             <children>
                                                <JFXButton fx:id="issueDocSwitchButton" onAction="#handleIssueDocButton" text="Issue Document" />
                                                <JFXButton fx:id="returnDocSwitchButton" onAction="#handleReturnDocButton" text="Return Document" />
                                             </children>
                                             <HBox.margin>
                                                <Insets left="5.0" right="10.0" />
                                             </HBox.margin>
                                          </HBox>
                                       </children>
                                       <opaqueInsets>
                                          <Insets />
                                       </opaqueInsets>
                                       <BorderPane.margin>
                                          <Insets right="10.0" />
                                       </BorderPane.margin>
                                    </HBox>
                                 </center>
                                 <bottom>
                                    <HBox BorderPane.alignment="CENTER" />
                                 </bottom>
                                 <top>
                                    <HBox BorderPane.alignment="CENTER" />
                                 </top>
                              </BorderPane>
                              <StackPane prefHeight="150.0" prefWidth="200.0" VBox.vgrow="ALWAYS">
                                 <children>
                                    <BorderPane fx:id="returnDocBPane" visible="false">
                                       <top>
                                          <VBox BorderPane.alignment="CENTER">
                                             <children>
                                                <HBox spacing="10.0" style="-fx-background-color: white;">
                                                   <children>
                                                      <Label style="-fx-text-fill: #2b579a; -fx-font-size: 20;" text="Return Document" HBox.hgrow="ALWAYS">
                                                         <font>
                                                            <Font name="Segoe UI Semilight" size="46.0" />
                                                         </font>
                                                         <padding>
                                                            <Insets left="10.0" />
                                                         </padding>
                                                      </Label>
                                                   </children>

                                                </HBox>
                                             </children>
                                          </VBox>
                                       </top>
                                       <center>
                                          <BorderPane prefHeight="200.0" prefWidth="200.0" BorderPane.alignment="CENTER">
                                             <top>
                                                <VBox BorderPane.alignment="CENTER">
                                                   <BorderPane.margin>
                                                      <Insets />
                                                   </BorderPane.margin>
                                                   <children>
                                                      <HBox alignment="CENTER" spacing="10.0">
                                                         <children>
                                                            <HBox HBox.hgrow="ALWAYS" />
                                                            <TextField fx:id="searchLoanID" onKeyReleased="#searchLoanByID" prefWidth="0.0" promptText="Enter Issue ID" style="-fx-background-radius: 30; -fx-background-color: linear-gradient(to right, rgba(0, 43, 91, 0.1), rgba(0, 43, 91, 0.3));" HBox.hgrow="ALWAYS" />
                                                            <CheckComboBox fx:id="issueTypeComboBox" prefWidth="133.0" style="-fx-background-color: transparent; -fx-background-radius: 30;" title="Issue Type" />
                                                            <HBox HBox.hgrow="ALWAYS" />
                                                         </children>
                                                         <padding>
                                                            <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                                         </padding>
                                                      </HBox>
                                                   </children>
                                                </VBox>
                                             </top>
                                             <center>
                                                <JFXListView fx:id="listInfo" style="-fx-border-color: #002B5B;" BorderPane.alignment="CENTER" />
                                             </center>
                                          </BorderPane>
                                       </center>
                                       <bottom>
                                          <HBox alignment="CENTER" spacing="10.0" BorderPane.alignment="CENTER">
                                             <children>
                                                <HBox HBox.hgrow="ALWAYS">
                                                   <children>
                                                      <JFXButton onAction="#handleBackToDoc" text="Back" />
                                                   </children>
                                                </HBox>
                                                <HBox spacing="10.0" HBox.hgrow="ALWAYS">
                                                   <children>
                                                      <HBox HBox.hgrow="ALWAYS">
                                                         <children>
                                                            <AutoCompleteTextField fx:id="lateFeeField" floatText="Late Fee" />
                                                         </children>
                                                      </HBox>
                                                      <JFXButton fx:id="submitButton" onAction="#handleSubmitDoc" text="Submit" HBox.hgrow="ALWAYS" />
                                                      <JFXButton fx:id="renewButton" onAction="#handleRenewDoc" text="Renew" HBox.hgrow="ALWAYS" />
                                                   </children>
                                                </HBox>
                                             </children>
                                             <padding>
                                                <Insets bottom="3.0" left="3.0" right="3.0" top="3.0" />
                                             </padding>
                                          </HBox>
                                       </bottom>
                                    </BorderPane>
                                    <BorderPane fx:id="issueDocBPane" visible="false">
                                       <center>
                                          <VBox spacing="10.0">
                                             <children>
                                                <VBox prefHeight="200.0" prefWidth="100.0" style="-fx-border-color: #002B5B; -fx-border-radius: 20;" VBox.vgrow="ALWAYS">
                                                   <children>
                                                      <HBox alignment="CENTER">
                                                         <children>
                                                            <SVGPath content="M20.771,12.364c0,0,0.849-3.51,0-4.699c-0.85-1.189-1.189-1.981-3.058-2.548s-1.188-0.454-2.547-0.396c-1.359,0.057-2.492,0.792-2.492,1.188c0,0-0.849,0.057-1.188,0.397c-0.34,0.34-0.906,1.924-0.906,2.321s0.283,3.058,0.566,3.624l-0.337,0.113c-0.283,3.283,1.132,3.68,1.132,3.68c0.509,3.058,1.019,1.756,1.019,2.548s-0.51,0.51-0.51,0.51s-0.452,1.245-1.584,1.698c-1.132,0.452-7.416,2.886-7.927,3.396c-0.511,0.511-0.453,2.888-0.453,2.888h26.947c0,0,0.059-2.377-0.452-2.888c-0.512-0.511-6.796-2.944-7.928-3.396c-1.132-0.453-1.584-1.698-1.584-1.698s-0.51,0.282-0.51-0.51s0.51,0.51,1.02-2.548c0,0,1.414-0.397,1.132-3.68H20.771z" />
                                                            <Label style="-fx-font-size: 18;" text="User Information" />
                                                         </children>
                                                      </HBox>
                                                      <HBox VBox.vgrow="ALWAYS">
                                                         <children>
                                                            <VBox alignment="CENTER_LEFT" cache="true" HBox.hgrow="ALWAYS">
                                                               <opaqueInsets>
                                                                  <Insets />
                                                               </opaqueInsets>
                                                               <HBox.margin>
                                                                  <Insets />
                                                               </HBox.margin>
                                                               <children>
                                                                  <Label style="-fx-font-size: 16;" text="User name: " />
                                                                  <AutoCompleteTextField fx:id="userIDIssue" floatText="Enter user name to search" onKeyReleased="#handleSearchUserInformation" />
                                                               </children>
                                                            </VBox>
                                                            <VBox alignment="CENTER" spacing="10.0" HBox.hgrow="ALWAYS">
                                                               <children>
                                                                  <Text fx:id="userNameInfo" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="User Name" />
                                                                  <Text fx:id="emailInfo" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="Email Address" />
                                                                  <Text fx:id="phoneNumberInfo" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="Phone Number" />
                                                               </children>
                                                               <HBox.margin>
                                                                  <Insets />
                                                               </HBox.margin>
                                                            </VBox>
                                                         </children>
                                                         <padding>
                                                            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                                         </padding>
                                                      </HBox>
                                                   </children>
                                                   <padding>
                                                      <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                                   </padding>
                                                </VBox>
                                                <VBox style="-fx-border-color: #002B5B; -fx-border-radius: 20;" VBox.vgrow="ALWAYS">
                                                   <children>
                                                      <HBox>
                                                         <children>
                                                            <HBox />
                                                            <HBox HBox.hgrow="ALWAYS" />
                                                         </children>
                                                      </HBox>
                                                      <HBox alignment="CENTER" VBox.vgrow="ALWAYS">
                                                         <children>
                                                            <SVGPath content="M25.754,4.626c-0.233-0.161-0.536-0.198-0.802-0.097L12.16,9.409c-0.557,0.213-1.253,0.316-1.968,0.316c-0.997,0.002-2.029-0.202-2.747-0.48C7.188,9.148,6.972,9.04,6.821,8.943c0.056-0.024,0.12-0.05,0.193-0.075L18.648,4.43l1.733,0.654V3.172c0-0.284-0.14-0.554-0.374-0.714c-0.233-0.161-0.538-0.198-0.802-0.097L6.414,7.241c-0.395,0.142-0.732,0.312-1.02,0.564C5.111,8.049,4.868,8.45,4.872,8.896c0,0.012,0.004,0.031,0.004,0.031v17.186c0,0.008-0.003,0.015-0.003,0.021c0,0.006,0.003,0.01,0.003,0.016v0.017h0.002c0.028,0.601,0.371,0.983,0.699,1.255c1.034,0.803,2.769,1.252,4.614,1.274c0.874,0,1.761-0.116,2.583-0.427l12.796-4.881c0.337-0.128,0.558-0.448,0.558-0.809V5.341C26.128,5.057,25.988,4.787,25.754,4.626zM5.672,11.736c0.035,0.086,0.064,0.176,0.069,0.273l0.004,0.054c0.016,0.264,0.13,0.406,0.363,0.611c0.783,0.626,2.382,1.08,4.083,1.093c0.669,0,1.326-0.083,1.931-0.264v1.791c-0.647,0.143-1.301,0.206-1.942,0.206c-1.674-0.026-3.266-0.353-4.509-1.053V11.736zM10.181,24.588c-1.674-0.028-3.266-0.354-4.508-1.055v-2.712c0.035,0.086,0.065,0.176,0.07,0.275l0.002,0.053c0.018,0.267,0.13,0.408,0.364,0.613c0.783,0.625,2.381,1.079,4.083,1.091c0.67,0,1.327-0.082,1.932-0.262v1.789C11.476,24.525,10.821,24.588,10.181,24.588z" />
                                                            <Label style="-fx-font-size: 18;" text="Document Information" />
                                                         </children>
                                                      </HBox>
                                                      <HBox VBox.vgrow="ALWAYS">
                                                         <children>
                                                            <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                                               <rotationAxis>
                                                                  <Point3D />
                                                               </rotationAxis>
                                                               <children>
                                                                  <Label style="-fx-font-size: 16;" text="Document ISBN/ Barcode: " />
                                                                  <AutoCompleteTextField fx:id="docISBNIssue" floatText="Enter document ISDN/ Barcode to search" onKeyReleased="#handleSearchDocInformation" />
                                                                  <Label style="-fx-font-size: 16;" text="Quantity:" />
                                                                  <AutoCompleteTextField fx:id="quantityDoc" floatText="Enter quantity" />
                                                               </children>
                                                            </VBox>
                                                            <VBox alignment="CENTER" spacing="10.0" HBox.hgrow="ALWAYS">
                                                               <children>
                                                                  <Text fx:id="docTitleInfo" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="Document Title" VBox.vgrow="ALWAYS" />
                                                                  <Text fx:id="docAuthorInfo" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="Document Author" VBox.vgrow="ALWAYS" />
                                                                  <Text fx:id="docPublisherInfo" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="Document Publisher" VBox.vgrow="ALWAYS" />
                                                                  <Text fx:id="price" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="Price" VBox.vgrow="ALWAYS" />
                                                                  <Text fx:id="availability" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-size: 16;" text="Availablity" VBox.vgrow="ALWAYS" />
                                                               </children>
                                                               <HBox.margin>
                                                                  <Insets />
                                                               </HBox.margin>
                                                            </VBox>
                                                         </children>
                                                      </HBox>
                                                   </children>
                                                   <padding>
                                                      <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                                   </padding>
                                                </VBox>
                                             </children>
                                          </VBox>
                                       </center>
                                       <top>
                                          <HBox alignment="TOP_CENTER" spacing="10.0" BorderPane.alignment="CENTER">
                                             <children>
                                                <Label style="-fx-text-fill: #2b579a; -fx-font-size: 20;" text="Issue Document">
                                                   <font>
                                                      <Font name="Segoe UI Semilight" size="46.0" />
                                                   </font>
                                                   <padding>
                                                      <Insets left="10.0" />
                                                   </padding>
                                                </Label>
                                                <Region prefHeight="40.0" HBox.hgrow="ALWAYS" />
                                             </children>
                                          </HBox>
                                       </top>
                                       <bottom>
                                          <HBox alignment="CENTER" spacing="10.0" BorderPane.alignment="CENTER">
                                             <children>
                                                <HBox HBox.hgrow="ALWAYS">
                                                   <children>
                                                      <JFXButton onAction="#handleBackToDoc" text="Back" />
                                                   </children>
                                                </HBox>
                                                <HBox alignment="CENTER_RIGHT" spacing="10.0" HBox.hgrow="ALWAYS">
                                                   <children>
                                                      <JFXButton fx:id="cancelIssueDocButton" onAction="#handleCancelIssue" text="Cancel" />
                                                      <JFXButton fx:id="submitIssueDocButton" onAction="#handleSubmitIssueDoc" text="Submit">
                                                         <HBox.margin>
                                                            <Insets right="30.0" />
                                                         </HBox.margin>
                                                      </JFXButton>
                                                   </children>
                                                </HBox>
                                             </children>
                                             <padding>
                                                <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                             </padding>
                                          </HBox>
                                       </bottom>
                                    </BorderPane>
                                 </children>
                              </StackPane>
                           </children>
                           <padding>
                              <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                           </padding>
                        </VBox>
                     </center>
                     <top>
                        <BorderPane maxHeight="67.0" BorderPane.alignment="CENTER">
                           <center>
                              <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1" BorderPane.alignment="CENTER">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="23.0" />
                                 </font>
                                 <BorderPane.margin>
                                    <Insets top="2.0" />
                                 </BorderPane.margin>
                              </Label>
                           </center>
                           <bottom>
                              <VBox BorderPane.alignment="CENTER" />
                           </bottom>
                        </BorderPane>
                     </top>
                  </BorderPane>

                  <!--                  LIBRARY CATALOG-->
                  <BorderPane fx:id="catalogBPane" prefHeight="200.0" prefWidth="200.0" visible="false">
                     <top>
                        <BorderPane maxHeight="67.0" prefHeight="34.0" prefWidth="1000.0" BorderPane.alignment="CENTER">
                           <center>
                              <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1" BorderPane.alignment="CENTER">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="23.0" />
                                 </font>
                                 <BorderPane.margin>
                                    <Insets top="2.0" />
                                 </BorderPane.margin>
                              </Label>
                           </center>
                           <bottom>
                              <VBox BorderPane.alignment="CENTER" />
                           </bottom>
                        </BorderPane>
                     </top>
                     <center>
                        <VBox BorderPane.alignment="CENTER">
                           <children>
                              <HBox>
                                 <VBox.margin>
                                    <Insets left="10.0" />
                                 </VBox.margin>
                                 <children>
                                    <Label style="-fx-text-fill: #002B5B; -fx-font-size: 20; -fx-font-weight: bold;" text="Library Catalog" textFill="#2b579a">
                                       <font>
                                          <Font name="Segoe UI Semilight" size="40.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              <VBox spacing="5.0" VBox.vgrow="ALWAYS">
                                 <children>
                                    <HBox>
                                       <children>
                                          <HBox HBox.hgrow="ALWAYS" />

                                          <AutoCompleteTextField fx:id="catalogSearchField" onKeyPressed="#handleSearchCatalogPressed" onKeyReleased="#handleSearchCatalog" promptText="Search for Document by Title, Author or ISBN..." HBox.hgrow="ALWAYS" />
                                          <HBox HBox.hgrow="ALWAYS" />
                                       </children>
                                    </HBox>
                                    <TabPane cache="true" nodeOrientation="LEFT_TO_RIGHT" prefHeight="200.0" prefWidth="200.0" rotateGraphic="true" side="LEFT" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
                                       <tabs>
                                          <Tab fx:id="databaseTab" text="Database">
                                             <content>
                                                <ScrollPane style="-fx-border-color: #002B5B;" vbarPolicy="ALWAYS">
                                                   <content>
                                                      <GridPane fx:id="localViewGPane" hgap="10.0" vgap="10.0">
                                                         <rowConstraints>
                                                            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                                         </rowConstraints>
                                                      </GridPane>
                                                   </content>
                                                   <padding>
                                                      <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                                   </padding>
                                                </ScrollPane>
                                             </content>
                                          </Tab>
                                          <Tab fx:id="onlineTab" text="Online">
                                             <content>
                                                <ScrollPane style="-fx-border-color: #002B5B;" vbarPolicy="ALWAYS">
                                                   <content>
                                                      <GridPane fx:id="apiViewGPane" hgap="10.0" vgap="10.0">
                                                         <rowConstraints>
                                                            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                                         </rowConstraints>
                                                      </GridPane>
                                                   </content>
                                                   <padding>
                                                      <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                                   </padding>
                                                </ScrollPane>
                                             </content>
                                          </Tab>
                                       </tabs>
                                       <VBox.margin>
                                          <Insets />
                                       </VBox.margin>
                                    </TabPane>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                     </center>
                  </BorderPane>

                  <!--               User-->
                  <BorderPane fx:id="usersBPane" prefHeight="200.0" prefWidth="200.0" visible="false">
                     <top>
                        <VBox BorderPane.alignment="CENTER">
                           <children>
                              <HBox alignment="CENTER">
                                 <children>
                                    <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1">
                                       <font>
                                          <Font name="Segoe UI Semilight" size="23.0" />
                                       </font>
                                    </Label>
                                 </children>
                                 <padding>
                                    <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </padding>
                              </HBox>
                              <VBox VBox.vgrow="ALWAYS">
                                 <children>
                                    <HBox spacing="10.0" VBox.vgrow="ALWAYS">
                                       <children>
                                          <Label prefHeight="73.0" prefWidth="196.0" style="-fx-text-fill: #002B5B; -fx-font-size: 20; -fx-font-weight: bold;" text="Users">
                                             <font>
                                                <Font name="Segoe UI Semilight" size="46.0" />
                                             </font>
                                             <padding>
                                                <Insets left="10.0" />
                                             </padding>
                                          </Label>
                                          <Region prefHeight="81.0" prefWidth="42.0" HBox.hgrow="NEVER" />
                                          <HBox alignment="CENTER_LEFT" prefHeight="81.0" prefWidth="697.0" spacing="10.0" HBox.hgrow="ALWAYS">
                                             <children>
                                                <TextField fx:id="searchUserField" accessibleText="field" maxHeight="26.0" onKeyReleased="#searchUserDetails" prefHeight="25.0" prefWidth="230.0" promptText="Search for User" style="-fx-background-radius: 0;" HBox.hgrow="ALWAYS">

                                                   <font>
                                                      <Font name="Segoe UI Semilight" size="12.0" />
                                                   </font>
                                                   <HBox.margin>
                                                      <Insets />
                                                   </HBox.margin>
                                                </TextField>
                                                <JFXComboBox fx:id="userFilterComboBox" labelFloat="true" promptText="Search by" />
                                                <HBox alignment="CENTER_RIGHT" prefHeight="69.0" prefWidth="259.0" HBox.hgrow="ALWAYS">
                                                   <children>
                                                      <JFXButton fx:id="importDataUserButton" onAction="#importData" style="-fx-background-radius: 30;" text="Import Data">

                                                         <graphic>
                                                            <MaterialDesignIconView fill="WHITE" glyphName="EXIT_TO_APP" rotate="90.0" size="17" />
                                                         </graphic>
                                                         <font>
                                                            <Font name="Segoe UI Semilight" size="12.0" />
                                                         </font>
                                                         <HBox.margin>
                                                            <Insets right="20.0" />
                                                         </HBox.margin>
                                                      </JFXButton>
                                                   </children>
                                                </HBox>
                                             </children>
                                          </HBox>
                                       </children>
                                    </HBox>
                                 </children>
                              </VBox>
                              <HBox VBox.vgrow="ALWAYS" />
                           </children>
                        </VBox>
                     </top>
                     <center>
                        <TableView fx:id="userView" editable="true" onContextMenuRequested="#requestMenu" onKeyReleased="#fetchUserWithKey" onMouseClicked="#fetchUserFeesDetails" style="-fx-border-color: #002B5B;" tableMenuButtonVisible="true" BorderPane.alignment="CENTER">

                           <columns>
                              <TableColumn fx:id="checkUserView" maxWidth="900.0" minWidth="-Infinity" prefWidth="33.4842529296875" />
                              <TableColumn fx:id="userNameUserView" prefWidth="131.423828125" text="User Name" />
                              <TableColumn fx:id="userPhoneUserView" prefWidth="147.15032958984375" text="Phone  Number" />
                              <TableColumn fx:id="userEmailUserView" prefWidth="178.96624755859375" text="Email Address" />
                           </columns>
                           <contextMenu>
                              <ContextMenu fx:id="selectUserContext">
                                 <items>
                                    <MenuItem fx:id="selectMenu" mnemonicParsing="false" onAction="#deleteUserRecord" text="Delete record" />

                                 </items>
                              </ContextMenu>
                           </contextMenu>
                           <columnResizePolicy>
                              <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                           </columnResizePolicy>
                           <padding>
                              <Insets bottom="2.0" left="2.0" right="2.0" top="2.0" />
                           </padding>
                        </TableView>
                     </center>
                     <right>
                        <VBox prefHeight="528.0" prefWidth="352.0" style="-fx-background-color: white;" BorderPane.alignment="CENTER">
                           <children>
                              <Label style="-fx-text-fill: #002B5B; -fx-font-size: 18;" text="User information" VBox.vgrow="ALWAYS">
                                 <font>
                                    <Font size="24.0" />
                                 </font>
                                 <padding>
                                    <Insets left="17.0" top="5.0" />
                                 </padding>
                              </Label>
                              <TextField fx:id="userNameField" layoutX="30.0" layoutY="250.0" promptText="User Name" style="-fx-background-radius: 10; -fx-border-color: #002B5B; -fx-border-radius: 10; -fx-background-color: linear-gradient(to right, rgba(0, 43, 91, 0.1), rgba(0, 43, 91, 0.3));">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="13.0" />
                                 </font>
                                 <VBox.margin>
                                    <Insets left="20.0" right="20.0" top="15.0" />
                                 </VBox.margin>
                              </TextField>
                              <TextField fx:id="userEmailField" layoutX="30.0" layoutY="162.0" promptText="User Email Address" style="-fx-background-radius: 10; -fx-border-color: #002B5B; -fx-border-radius: 10; -fx-background-color: linear-gradient(to right, rgba(0, 43, 91, 0.1), rgba(0, 43, 91, 0.3));">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="13.0" />
                                 </font>
                                 <VBox.margin>
                                    <Insets left="20.0" right="20.0" top="15.0" />
                                 </VBox.margin>
                              </TextField>
                              <TextField fx:id="userPhoneField" promptText="Phone Number" style="-fx-background-radius: 10; -fx-border-color: #002B5B; -fx-border-radius: 10; -fx-background-color: linear-gradient(to right, rgba(0, 43, 91, 0.1), rgba(0, 43, 91, 0.3));">
                                 <VBox.margin>
                                    <Insets left="20.0" right="20.0" top="15.0" />
                                 </VBox.margin>
                                 <font>
                                    <Font name="Segoe UI Semilight" size="13.0" />
                                 </font>
                              </TextField>
                              <HBox alignment="CENTER" prefHeight="50.0" prefWidth="352.0" spacing="8.0">
                                 <VBox.margin>
                                    <Insets top="10.0" />
                                 </VBox.margin>
                                 <children>
                                    <JFXButton fx:id="cancelUserButton" layoutX="10.0" layoutY="10.0" onAction="#handleCancelUserButton" prefHeight="25.0" prefWidth="151.0" style="-fx-background-radius: 30;" text="Cancel">

                                       <HBox.margin>
                                          <Insets right="4.0" />
                                       </HBox.margin>
                                       <font>
                                          <Font name="Segoe UI Semilight" size="12.0" />
                                       </font>
                                    </JFXButton>
                                    <JFXButton fx:id="saveUserButton" onAction="#handleSaveUserButton" prefHeight="25.0" prefWidth="151.0" style="-fx-background-radius: 30;" text="Save">

                                       <HBox.margin>
                                          <Insets left="3.0" />
                                       </HBox.margin>
                                       <font>
                                          <Font name="Segoe UI Semilight" size="12.0" />
                                       </font>
                                    </JFXButton>
                                 </children>
                              </HBox>
                              <Separator prefWidth="200.0">
                                 <VBox.margin>
                                    <Insets left="5.0" right="5.0" />
                                 </VBox.margin>
                              </Separator>
                              <HBox alignment="CENTER" layoutX="10.0" layoutY="284.0" prefHeight="50.0" prefWidth="352.0" spacing="10.0">
                                 <children>
                                    <JFXButton fx:id="deleteUser" layoutX="10.0" layoutY="10.0" onAction="#deleteUserRecord" prefHeight="25.0" prefWidth="151.0" style="-fx-background-radius: 0;" text="Archieve" visible="false">

                                       <HBox.margin>
                                          <Insets right="4.0" />
                                       </HBox.margin>
                                    </JFXButton>
                                    <JFXButton fx:id="updateUser" onAction="#handleUpdateUser" prefHeight="25.0" prefWidth="151.0" style="-fx-background-radius: 0;" text="Update" visible="false">

                                       <HBox.margin>
                                          <Insets left="3.0" />
                                       </HBox.margin>
                                    </JFXButton>
                                 </children>
                              </HBox>
                           </children>
                        </VBox>
                     </right>
                     <bottom>
                        <HBox fx:id="controlUserView" prefHeight="32.0" prefWidth="1000.0" spacing="5.0" BorderPane.alignment="CENTER">
                           <children>
                              <CheckBox fx:id="checkAllUsersView" mnemonicParsing="false" onAction="#checkAllUsers" text="Check all">

                                 <HBox.margin>
                                    <Insets top="5.0" />
                                 </HBox.margin>
                              </CheckBox>
                              <Hyperlink onAction="#deleteUsersRecord" text="Delete" textFill="#2b579a">

                                 <graphic>
                                    <FontAwesomeIconView fill="#e9594d" glyphName="TRASH" size="15" />
                                 </graphic>
                                 <HBox.margin>
                                    <Insets left="20.0" top="2.0" />
                                 </HBox.margin>
                              </Hyperlink>
                           </children>
                        </HBox>
                     </bottom>
                  </BorderPane>

                  <!--              PENDING APPROVALS-->
                  <BorderPane fx:id="pendingApprovalsBPane" visible="false" xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1">
                     <center>
                        <VBox prefHeight="200.0" prefWidth="100.0" spacing="5.0">
                           <children>
                              <Label style="-fx-font-size: 24; -fx-font-weight: bold;" text="Pending Approvals" />
                              <VBox />
                              <Label style="-fx-font-size: 18;" text="Users waiting for their approvals to access library" />
                              <HBox spacing="10">
                                 <children>
                                    <Label style="-fx-font-size: 16;" text="Filter Approvals:" />
                                    <ButtonBar>
                                       <buttons>
                                          <AutoCompleteTextField fx:id="checkUsername" onKeyReleased="#handleSearchPendingUser" promptText="Username" />
                                          <CheckComboBox fx:id="checkCountry" style="-fx-background-color: WHITE;" title="Country" />
                                          <CheckComboBox fx:id="checkState" title="State" />
                                          <CheckComboBox fx:id="checkYear" title="Year" />
                                       </buttons>
                                    </ButtonBar>
                                 </children>
                              </HBox>
                              <TableView fx:id="approvalsTView" editable="true" prefHeight="620.0" prefWidth="620.0" style="-fx-border-color: #002B5B #002B5B;" tableMenuButtonVisible="true">
                                 <columns>
                                    <TableColumn fx:id="checkBoxApproval" minWidth="-Infinity" prefWidth="30.0" />
                                    <TableColumn fx:id="usernameApprovals" prefWidth="100.0" text="Username" />
                                    <TableColumn fx:id="phoneNumberApprovals" prefWidth="100.0" text="Phone Number" />
                                    <TableColumn fx:id="emailApprovals" prefWidth="100.0" text="Email" />
                                    <TableColumn fx:id="countryApprovals" prefWidth="75.0" text="Country" />
                                    <TableColumn fx:id="stateApprovals" prefWidth="100.0" text="State" />
                                    <TableColumn fx:id="yearApprovals" prefWidth="100.0" text="Year" />
                                    <TableColumn fx:id="approvalApprovals" prefWidth="167.199951171875" text="Approval" />
                                 </columns>
                                 <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                 </columnResizePolicy>
                                 <padding>
                                    <Insets bottom="2.0" left="2.0" right="2.0" top="2.0" />
                                 </padding>
                              </TableView>
                           </children>
                        </VBox>
                     </center>
                     <top>
                        <BorderPane maxHeight="67.0" prefHeight="34.0" prefWidth="1000.0" style="-fx-background-color: white;" BorderPane.alignment="CENTER">
                           <center>
                              <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1" BorderPane.alignment="CENTER">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="23.0" />
                                 </font>
                                 <BorderPane.margin>
                                    <Insets top="2.0" />
                                 </BorderPane.margin>
                              </Label>
                           </center>
                        </BorderPane>
                     </top>
                     <bottom>
                        <HBox fx:id="controllApproval" prefHeight="32.0" prefWidth="1000.0" BorderPane.alignment="CENTER">
                           <children>
                              <CheckBox fx:id="checkApprovals" mnemonicParsing="false" onAction="#checkAllPending" text="Check all">
                                 <HBox.margin>
                                    <Insets top="5.0" />
                                 </HBox.margin>
                              </CheckBox>
                              <Hyperlink onAction="#disapprovePending" text="Delete" textFill="#2b579a">
                                 <graphic>
                                    <FontAwesomeIconView fill="#e9594d" glyphName="TRASH" size="15" />
                                 </graphic>
                                 <HBox.margin>
                                    <Insets left="20.0" top="2.0" />
                                 </HBox.margin>
                              </Hyperlink>
                              <HBox alignment="TOP_RIGHT" HBox.hgrow="ALWAYS">
                                 <children>
                                    <Button mnemonicParsing="false" onAction="#approvePendingUsers" prefWidth="120.0" text="Approve">
                                       <HBox.margin>
                                          <Insets right="20.0" />
                                       </HBox.margin>
                                    </Button>
                                 </children>
                              </HBox>
                           </children>
                           <BorderPane.margin>
                              <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                           </BorderPane.margin>
                        </HBox>
                     </bottom>
                  </BorderPane>



                  <!--               PENDING LOANS-->
                  <BorderPane fx:id="pendingLoansBPane" visible="false" xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1">
                     <center>
                        <VBox>
                           <children>
                              <HBox alignment="CENTER" spacing="10.0">
                                 <children>
                                    <HBox HBox.hgrow="ALWAYS" />
                                    <TextField fx:id="loansField" onKeyReleased="#handleSearchPendingIssue" promptText="Search for Document by Title, Author or ISBN..." style="-fx-background-radius: 30; -fx-background-color: linear-gradient(to right, rgba(0, 43, 91, 0.1), rgba(0, 43, 91, 0.3));" HBox.hgrow="ALWAYS" />
                                    <JFXComboBox fx:id="typeLoans" labelFloat="true" promptText="Select Issue Type" style="-fx-background-radius: 30;" HBox.hgrow="ALWAYS" />
                                    <HBox HBox.hgrow="ALWAYS" />
                                 </children>
                                 <VBox.margin>
                                    <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </VBox.margin>
                                 <padding>
                                    <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </padding>
                              </HBox>
                              <TableView fx:id="loansView" prefHeight="200.0" prefWidth="200.0" style="-fx-border-color: #002B5B;" tableMenuButtonVisible="true" VBox.vgrow="ALWAYS">
                                 <columns>
                                    <TableColumn fx:id="checkLoan" prefWidth="15.999985456466675" />
                                    <TableColumn fx:id="issuedIDLoansView" prefWidth="50.399959564208984" text="Issued ID" />
                                    <TableColumn fx:id="docIDLoansView" prefWidth="79.20001220703125" text="Document ISBN" />
                                    <TableColumn fx:id="userNameLoansView" prefWidth="74.39996337890625" text="User Name" />
                                    <TableColumn fx:id="issuedDateAndTimeLoansView" prefWidth="86.39997863769531" text="Date borrowed" />
                                    <TableColumn fx:id="returnDateIDLoansView" prefWidth="81.5999755859375" text="Date Returned" />
                                    <TableColumn fx:id="requiredReturnLoansView" prefWidth="85.5999755859375" text="Required date" />
                                    <TableColumn fx:id="quantityLoansView" prefWidth="51.20001220703125" text="Quantity" />
                                    <TableColumn fx:id="docStatusLoansView" prefWidth="84.7999267578125" text="Status" />
                                    <TableColumn fx:id="feeIDLoansView" prefWidth="66.4000244140625" text="Late Fee" />
                                    <TableColumn fx:id="approvalLoansView" prefWidth="140.0" text="Approval" />
                                 </columns>
                                 <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                 </columnResizePolicy>
                              </TableView>
                           </children>
                           <padding>
                              <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                           </padding>
                        </VBox>
                     </center>
                     <top>
                        <BorderPane maxHeight="67.0" prefHeight="34.0" prefWidth="1000.0" style="-fx-background-color: white;" BorderPane.alignment="CENTER">
                           <center>
                              <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1" BorderPane.alignment="CENTER">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="23.0" />
                                 </font>
                                 <BorderPane.margin>
                                    <Insets top="2.0" />
                                 </BorderPane.margin>
                              </Label>
                           </center>
                           <bottom>
                              <VBox BorderPane.alignment="CENTER">
                                 <children>
                                    <Label style="-fx-font-size: 20; -fx-font-weight: bold;" text="Loans Requests" />
                                 </children>
                              </VBox>
                           </bottom>
                        </BorderPane>
                     </top>
                     <bottom>
                        <HBox fx:id="controllLoans" prefHeight="32.0" prefWidth="1000.0" BorderPane.alignment="CENTER">
                           <children>
                              <CheckBox fx:id="checkLoans" mnemonicParsing="false" onAction="#checkAllPendingIssue" text="Check all">
                                 <HBox.margin>
                                    <Insets top="5.0" />
                                 </HBox.margin>
                              </CheckBox>
                              <Hyperlink fx:id="deleteLoans" onAction="#deletePendingIssue" text="Delete" textFill="#2b579a">
                                 <graphic>
                                    <FontAwesomeIconView fill="#e9594d" glyphName="TRASH" size="15" />
                                 </graphic>
                                 <HBox.margin>
                                    <Insets left="20.0" top="2.0" />
                                 </HBox.margin>
                              </Hyperlink>
                              <HBox alignment="TOP_RIGHT" HBox.hgrow="ALWAYS">
                                 <children>
                                    <Button fx:id="disapproveLoansButton" mnemonicParsing="false" onAction="#disapprovePendingIssue" prefWidth="120.0" text="Disapprove">
                                       <HBox.margin>
                                          <Insets right="20.0" />
                                       </HBox.margin>
                                    </Button>
                                    <Button fx:id="approveLoansButton" mnemonicParsing="false" onAction="#approvePendingIssue" prefWidth="120.0" text="Approve" />
                                 </children>
                              </HBox>
                           </children>
                        </HBox>
                     </bottom>
                  </BorderPane>



                  <!--                  ALL ISSUED DOCUMENTS-->
                  <BorderPane fx:id="allIssuedDocBPane" visible="false">
                     <center>
                        <VBox>
                           <children>
                              <HBox alignment="CENTER" spacing="10.0">
                                 <children>
                                    <HBox HBox.hgrow="ALWAYS" />
                                    <TextField fx:id="issuedDocField" onKeyReleased="#handleSearchID" promptText="Search for Document by Title, Author or ISBN..." style="-fx-background-radius: 30; -fx-background-color: linear-gradient(to right, rgba(0, 43, 91, 0.1), rgba(0, 43, 91, 0.3));" HBox.hgrow="ALWAYS" />
                                    <JFXComboBox fx:id="issueTypeIssuedDoc" labelFloat="true" promptText="Select Issue Type" style="-fx-background-radius: 30;" HBox.hgrow="ALWAYS" />
                                    <HBox HBox.hgrow="ALWAYS" />
                                 </children>
                                 <VBox.margin>
                                    <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </VBox.margin>
                                 <padding>
                                    <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                 </padding>
                              </HBox>
                              <TableView fx:id="IDView" prefHeight="200.0" prefWidth="200.0" style="-fx-border-color: #002B5B;" tableMenuButtonVisible="true" VBox.vgrow="ALWAYS">
                                 <columns>
                                    <TableColumn fx:id="issuedIDIDView" prefWidth="92.0" text="Issued ID" />
                                    <TableColumn fx:id="docIDIDView" prefWidth="92.0" text="Document ISBN" />
                                    <TableColumn fx:id="docTitleIDView" prefWidth="92.0" text="Document Title" />
                                    <TableColumn fx:id="userNameIDView" prefWidth="92.0" text="User Name" />
                                    <TableColumn fx:id="issuedDateAndTimeIDView" prefWidth="92.0" text="Date borrowed" />
                                    <TableColumn fx:id="dueDateIDView" prefWidth="92.0" text="Date Returned" />
                                    <TableColumn fx:id="daysIDView" prefWidth="92.0" text="Number of Days" />
                                    <TableColumn fx:id="feeIDView" prefWidth="92.0" text="Late Fee (MWK)" />
                                    <TableColumn fx:id="statusIDView" prefWidth="75.0" text="Status" />
                                 </columns>
                                 <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                 </columnResizePolicy>
                              </TableView>
                           </children>
                        </VBox>
                     </center>
                     <top>
                        <BorderPane maxHeight="67.0" prefHeight="34.0" prefWidth="1000.0" style="-fx-background-color: white;" BorderPane.alignment="CENTER">
                           <center>
                              <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1" BorderPane.alignment="CENTER">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="23.0" />
                                 </font>
                                 <BorderPane.margin>
                                    <Insets top="2.0" />
                                 </BorderPane.margin>
                              </Label>
                           </center>
                           <bottom>
                              <VBox BorderPane.alignment="CENTER">
                                 <children>
                                    <Label style="-fx-font-size: 20; -fx-font-weight: bold;" text="Issued Documents" />
                                 </children>
                              </VBox>
                           </bottom>
                        </BorderPane>
                     </top>
                  </BorderPane>

                  <!--                  FAQS-->
                  <BorderPane fx:id="FAQsBPane" prefHeight="200.0" prefWidth="200.0" visible="false">
                     <top>
                        <BorderPane maxHeight="67.0" prefHeight="34.0" prefWidth="1000.0" BorderPane.alignment="CENTER">
                           <center>
                              <Label style="-fx-font-size: 23; -fx-font-weight: bold;" text="Library Management System" textFill="#a1a1a1" BorderPane.alignment="CENTER">
                                 <font>
                                    <Font name="Segoe UI Semilight" size="23.0" />
                                 </font>
                                 <BorderPane.margin>
                                    <Insets top="2.0" />
                                 </BorderPane.margin>
                              </Label>
                           </center>
                           <bottom>
                              <HBox BorderPane.alignment="CENTER">
                                 <children>
                                    <Label style="-fx-text-fill: #002B5B; -fx-font-size: 20; -fx-font-weight: bold;" text="Library FAQs" textFill="#2b579a">
                                       <font>
                                          <Font name="Segoe UI Semilight" size="40.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                           </bottom>
                        </BorderPane>
                     </top>
                     <center>
                        <BorderPane BorderPane.alignment="CENTER">
                           <BorderPane.margin>
                              <Insets />
                           </BorderPane.margin>
                           <padding>
                              <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                           </padding>
                           <center>
                              <StackPane BorderPane.alignment="CENTER">
                                 <children>
                                    <ScrollPane fx:id="faqSPane" hbarPolicy="NEVER" style="-fx-border-color: #002B5B;" vbarPolicy="ALWAYS" visible="false">
                                       <content>
                                          <GridPane fx:id="FAQsGPane" alignment="CENTER" focusTraversable="true" />
                                       </content>
                                    </ScrollPane>
                                    <JFXButton fx:id="newChatButton" onAction="#handleResetFAQs" style="-fx-background-color: transparent; -fx-border-color: #002b5b;" text="New chat" visible="false" StackPane.alignment="TOP_LEFT">
                                       <StackPane.margin>
                                          <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                                       </StackPane.margin>
                                    </JFXButton>
                                    <BorderPane fx:id="chatbotPane" prefHeight="200.0" prefWidth="200.0">
                                       <center>
                                          <VBox alignment="CENTER" prefHeight="200.0" prefWidth="100.0" BorderPane.alignment="CENTER">
                                             <children>
                                                <ImageView fitHeight="250.0" fitWidth="250.0" pickOnBounds="true" preserveRatio="true">
                                                   <image>
                                                      <Image url="@../sprites/qa.png" />
                                                   </image>
                                                </ImageView>
                                                <HBox fx:id="faqContainer" alignment="CENTER">
                                                   <children>
                                                      <Label style="-fx-font-size: 26; -fx-text-fill: #002B5B; -fx-font-weight: bold;" text="What can I help with?" />
                                                   </children>
                                                </HBox>
                                             </children>
                                          </VBox>
                                       </center>
                                    </BorderPane>
                                 </children>
                              </StackPane>
                           </center>
                        </BorderPane>
                     </center>
                     <bottom>
                        <VBox BorderPane.alignment="CENTER">
                           <children>
                              <VBox maxHeight="150.0" prefHeight="50.0" style="-fx-border-color: #002B5B; -fx-border-radius: 30;">
                                 <children>
                                    <HBox alignment="CENTER" spacing="10.0">
                                       <children>
                                          <JFXTextArea fx:id="faqRequestContainer" prefColumnCount="50" HBox.hgrow="ALWAYS" />
                                          <ImageViewButton fx:id="recordButton" fitHeight="30.0" fitWidth="30.0" onMousePressed="#handleRecord" HBox.hgrow="ALWAYS">
                                             <image>
                                                <Image url="@../sprites/mircoButton.png" />
                                             </image>
                                             <cursor>
                                                <Cursor fx:constant="HAND" />
                                             </cursor>
                                          </ImageViewButton>
                                          <ImageViewButton fx:id="sendTextButton" fitHeight="25.0" fitWidth="25.0" onMouseEntered="#handleMouseEnterSend" onMouseExited="#handleMouseExitSend" onMousePressed="#handleSendText" HBox.hgrow="ALWAYS">
                                             <image>
                                                <Image url="@../sprites/sendButton.png" />
                                             </image>
                                             <cursor>
                                                <Cursor fx:constant="HAND" />
                                             </cursor>
                                          </ImageViewButton>
                                       </children>
                                       <padding>
                                          <Insets bottom="5.0" left="20.0" right="10.0" />
                                       </padding>
                                    </HBox>
                                 </children>
                              </VBox>
                           </children>
                           <padding>
                              <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                           </padding>
                        </VBox>
                     </bottom>
                  </BorderPane>
               </children>
            </StackPane>
         </center>
      </BorderPane>
   </children>
</StackPane>
