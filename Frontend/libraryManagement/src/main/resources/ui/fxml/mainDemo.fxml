<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="760.0" prefWidth="860.0" stylesheets="@../css/pastel-theme.css" xmlns="http://javafx.com/javafx/23" xmlns:fx="http://javafx.com/fxml/1" fx:controller="library.management.ui.controllers.MainController">
  <!-- Header phần trên cùng -->
  <top>
    <HBox alignment="CENTER" spacing="10">
      <Label style="-fx-font-size: 24; -fx-padding: 10;" text="TAAD Library Management System" textFill="WHITE" />
      <HBox alignment="CENTER_RIGHT" spacing="10">
        <MenuButton prefHeight="30" text="">
          <graphic>
            <ImageView fitHeight="30" fitWidth="30" pickOnBounds="true" preserveRatio="true">
              <image>
                <Image url="@../sprites/user.png" /> <!-- Icon cho MenuButton -->
              </image>
            </ImageView>
          </graphic>
        </MenuButton>
      </HBox>
    </HBox>
  </top>

  <!-- Menu bên trái -->
  <left>
    <VBox spacing="10" style="-fx-padding: 20;">
      <ImageView fitHeight="316.0" fitWidth="200.0" pickOnBounds="true" preserveRatio="true">
        <Image url="@../sprites/mainScreen.png" />
      </ImageView>
      <Button fx:id="dashboardButton" onAction="#navigateToDashboard" prefWidth="200.0" text="Dashboard" />
      <Button fx:id="pendingApprovalsButton" onAction="#showStudentsForApproval" prefWidth="200" text="Pending Approvals" />
      <Button fx:id="registeredStudentsButton" onAction="#showAllRegisteredStudents" prefWidth="200" text="Registered Students" />
      <Button fx:id="libraryCatalogButton" onAction="#showAllBooksInLibrary" prefWidth="200" text="Library Catalog" />
      <Button fx:id="registerNewBookButton" onAction="#addNewBook" prefWidth="200" text="Register New Book" />
      <Button fx:id="manageBookLoansButton" onAction="#handleIssueOrReturnBooks" prefWidth="200" text="Manage Book Loans" />
      <Button fx:id="IssuedBooksButton" onAction="#showCurrentlyIssuedBooks" prefWidth="200" text="Issued Books" />
      <Button fx:id="signOutButton" onAction="#handleSignOut" prefWidth="200" text="Sign Out" />
    </VBox>
  </left>

  <!-- Footer -->
  <bottom>
    <HBox alignment="CENTER" style="-fx-padding: 10;">
      <Label text="© 2024 TAAD - Library Management System" textFill="WHITE" />
    </HBox>
  </bottom>
   <center>
      <StackPane BorderPane.alignment="CENTER">
         <children>
            <VBox prefHeight="200.0" prefWidth="100.0">
               <children>
                  <VBox alignment="CENTER" spacing="20" styleClass="main-content">
                     <children>
                        <Label styleClass="dashboard-label" text="Library Dashboard" textFill="WHITE" />
                        <HBox alignment="CENTER" spacing="50.0">
                           <children>
                              <VBox alignment="CENTER">
                                 <children>
                                    <Label prefHeight="26.0" prefWidth="109.0" styleClass="stat-label" text="Total Books" textFill="WHITE" />
                                    <Label fx:id="totalBooksLabel1" styleClass="stat-value" text="500" textFill="WHITE" />
                                 </children>
                              </VBox>
                              <VBox alignment="CENTER">
                                 <children>
                                    <Label prefHeight="26.0" prefWidth="122.0" styleClass="stat-label" text="Borrowed Books" textFill="WHITE" />
                                    <Label fx:id="borrowedBooksLabel1" styleClass="stat-value" text="120" textFill="WHITE" />
                                 </children>
                              </VBox>
                              <VBox alignment="CENTER">
                                 <children>
                                    <Label styleClass="stat-label" text="Overdue Returns" textFill="#fffafa" />
                                    <Label fx:id="overdueReturnsLabel1" styleClass="stat-value" text="5" textFill="WHITE" />
                                 </children>
                              </VBox>
                              <VBox alignment="CENTER">
                                 <children>
                                    <Label prefWidth="75.0" styleClass="stat-label" text="Total Users" textFill="WHITE" />
                                    <Label fx:id="totalUsersLabel" styleClass="stat-value" text="300" textFill="WHITE" />
                                 </children>
                              </VBox>
                           </children>
                        </HBox>
                      <HBox alignment="CENTER" spacing="20" style="-fx-padding: 50;">
                        <Button prefHeight="100" prefWidth="150" text="Find Book" />
                        <Button prefHeight="100" prefWidth="150" text="Find Book Issue" />
                        <Button prefHeight="100" prefWidth="150" text="Find Student" />
                      </HBox>
                        <Label styleClass="recent-activities-label" text="Recent Activities" textFill="WHITE" />
                        <TableView fx:id="recentActivitiesTable" editable="true" styleClass="activity-table" tableMenuButtonVisible="true">
                           <columns>
                              <TableColumn fx:id="userColumn" text="User" />
                              <TableColumn fx:id="bookColumn" text="Book" />
                              <TableColumn fx:id="dueDateColumn" text="Due Date" />
                           </columns>
                           <columnResizePolicy>
                              <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                           </columnResizePolicy>
                        </TableView>
                        <HBox alignment="CENTER" spacing="20" />
                     </children>
                  </VBox>
               </children>
            </VBox>
      </StackPane>
   </center>
</BorderPane>
